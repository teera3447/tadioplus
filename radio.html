<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Thai Radio Online</title>
  <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
  <style>
    body {
      margin: 0;
      font-family: 'Segoe UI', sans-serif;
      background: #f0f0f0;
      color: #333;
      display: flex;
      flex-direction: column;
      min-height: 100vh;
    }
    header {
      background: #2c3e50;
      color: white;
      padding: 1rem;
      text-align: center;
      font-size: 1.5rem;
    }
    #search {
      margin: 1rem auto;
      max-width: 500px;
      width: 90%;
      padding: 0.5rem;
      font-size: 1rem;
    }
    #station-list {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
      gap: 1rem;
      padding: 1rem;
    }
    #station-list li {
      list-style: none;
      background: white;
      padding: 0.5rem;
      border-radius: 10px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      text-align: center;
      cursor: pointer;
      transition: 0.2s;
    }
    #station-list li:hover {
      background: #f9f9f9;
    }
    #station-list img {
      width: 100%;
      height: auto;
      border-radius: 8px;
    }
    #controls {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 1rem;
      margin: 1rem;
    }
    #controls button {
      padding: 0.5rem 1rem;
      font-size: 1rem;
      border: none;
      border-radius: 6px;
      background: #3498db;
      color: white;
      cursor: pointer;
    }
    #controls button:hover {
      background: #2980b9;
    }
    #current-station {
      text-align: center;
      font-size: 1.2rem;
      margin-bottom: 1rem;
    }
    #webcam-container {
      display: none;
      margin: 1rem auto;
      width: 90%;
      max-width: 800px;
    }
    iframe {
      width: 100%;
      height: 400px;
      border: none;
    }
  </style>
</head>
<body>
  <header>üìª Thai Radio Online</header>

  <input type="text" id="search" placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ‡∏ß‡∏¥‡∏ó‡∏¢‡∏∏...">

  <ul id="station-list">
    <li data-stream-url="https://coolism-web.cdn.byteark.com/;stream/1" data-station-name="Cool Fahrenheit" data-image="https://img2.pic.in.th/pic/1000024190.jpg">
      <img src="https://img2.pic.in.th/pic/1000024190.jpg" alt="Cool Fahrenheit">
      <span>Cool Fahrenheit</span>
    </li>
    <li data-stream-url="https://atimehd.smartclick.co.th/greenwave/hls/greenwave.m3u8" data-station-name="GreenWave" data-image="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSbwQX6gPjkDRpbnXPUX0iyBdD4T8Nt8wMh90sbdTBjI2dGajInfVSrIMlv&s=10" data-webcam="https://atimehd.smartclick.co.th/greenwave/hls/greenwave.m3u8">
      <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSbwQX6gPjkDRpbnXPUX0iyBdD4T8Nt8wMh90sbdTBjI2dGajInfVSrIMlv&s=10" alt="GreenWave">
      <span>GreenWave</span>
    </li>
    <li data-stream-url="https://atimeonline3.smartclick.co.th/efm" data-station-name="EFM" data-image="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcROWKykCfOiIdVsKmXhoThQs56ua-xSd_EjLuV0y-3WEnYbjCI1zV4OICs7&s=10" data-webcam="https://atimehd.smartclick.co.th/efm/hls/efm.m3u8">>
      <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcROWKykCfOiIdVsKmXhoThQs56ua-xSd_EjLuV0y-3WEnYbjCI1zV4OICs7&s=10" alt="EFM">
      <span>EFM</span>
    </li>
    <li data-stream-url="https://22243.live.streamtheworld.com/GOODTIME_RADIOAAC.aac" data-station-name="Goodtime Radio" data-image="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQYuJ7s_iLLvigZVjFIJoLn8m2f-8TiJpYkpkGr-lgkR_9LYIMgJf-kykc&s=10" data-webcam="https://streaming.teroradio.com/Goodtime/Goodtime-Webcam/chunklist_w1698367261.m3u8>
      <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQYuJ7s_iLLvigZVjFIJoLn8m2f-8TiJpYkpkGr-lgkR_9LYIMgJf-kykc&s=10" alt="Goodtime Radio">
      <span>Goodtime Radio</span>
    </li>
  </ul>

  <div id="controls">
    <button id="prev">‚èÆ ‡∏Å‡πà‡∏≠‡∏ô‡∏´‡∏ô‡πâ‡∏≤</button>
    <button id="play">‚ñ∂Ô∏è ‡πÄ‡∏•‡πà‡∏ô/‡∏´‡∏¢‡∏∏‡∏î</button>
    <button id="next">‚è≠ ‡∏ñ‡∏±‡∏î‡πÑ‡∏õ</button>
  </div>

  <div id="current-station"></div>

  <div id="webcam-container">
    <iframe id="webcam-frame" allow="autoplay"></iframe>
  </div>

  <audio id="audio" controls style="width: 100%; max-width: 500px; margin: auto; display: block;"></audio>

  <script>
    const stationList = document.getElementById('station-list');
    const audio = document.getElementById('audio');
    const currentStation = document.getElementById('current-station');
    const webcamContainer = document.getElementById('webcam-container');
    const webcamFrame = document.getElementById('webcam-frame');
    const playBtn = document.getElementById('play');
    const prevBtn = document.getElementById('prev');
    const nextBtn = document.getElementById('next');
    const searchInput = document.getElementById('search');

    let hls;
    let currentIndex = -1;
    const stations = Array.from(stationList.children);

    function playStation(index) {
      if (index < 0 || index >= stations.length) return;

      const li = stations[index];
      const url = li.dataset.streamUrl;
      const name = li.dataset.stationName;
      const webcam = li.dataset.webcam;

      if (hls) {
        hls.destroy();
        hls = null;
      }

      if (Hls.isSupported() && url.endsWith('.m3u8')) {
        hls = new Hls();
        hls.loadSource(url);
        hls.attachMedia(audio);
        hls.on(Hls.Events.MANIFEST_PARSED, () => audio.play());
      } else {
        audio.src = url;
        audio.play();
      }

      currentStation.textContent = '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏•‡πà‡∏ô: ' + name;
      if (webcam) {
        webcamContainer.style.display = 'block';
        webcamFrame.src = webcam;
      } else {
        webcamContainer.style.display = 'none';
        webcamFrame.src = '';
      }
      currentIndex = index;
    }

    stationList.addEventListener('click', e => {
      const li = e.target.closest('li');
      if (!li) return;
      playStation(stations.indexOf(li));
    });

    playBtn.onclick = () => {
      if (audio.paused) audio.play();
      else audio.pause();
    };

    prevBtn.onclick = () => playStation(currentIndex - 1);
    nextBtn.onclick = () => playStation(currentIndex + 1);

    searchInput.addEventListener('input', () => {
      const term = searchInput.value.toLowerCase();
      stations.forEach(station => {
        const name = station.dataset.stationName.toLowerCase();
        station.style.display = name.includes(term) ? '' : 'none';
      });
    });
  </script>
</body>
</html>
